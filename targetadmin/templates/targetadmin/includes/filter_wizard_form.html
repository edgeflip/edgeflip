<div class="row">
    <div class="span12">
        <div class="row targeting-header">
            <h2>Define Targeting Criteria</h2>
            <p>
                The filters below will be chained together with ANDs. For example if you put four filters:
                Gender eq male, Age min 22, Age max 30, and State eq New York you will be targeting 22-30 year old men in New York.
                We highly recommend adding "fallback" targeting layers to deal with cases where your users don't have friends who match 
                those criteria.
            
            </p>
            <p>
                An example of a Layer 2 (fallback) criteria might 
                be: 22-30 year old Men. If that fails to find enough 
                friends, you can add a third layer simply targeting Men. 
                Targeted Sharing will always start with the top layer and keep filling in friends from subseuqnet layers if it does
                not find enough on a given layer.
                As always, feel free to contact us for assistance
            </p>
        </div>
        <div id="enabled-section" class="row">
            <h3>Enabled Filters <button id="add-layer" class="btn btn-mini" data-layer-count="1">Add Layer</button></h3>
            <h5>Top Layer</h5>
            <div class="clearfix">
                <input type="hidden" id="id_enabled-filters-1" name="enabled-filters-1">
                <div class="span12 well sortable target-well" id="enabled-filters-1" style="margin-left: 0px; min-height:54px;"></div>
            </div>
        </div>
        <div class="row">
            <h3>Available Filters <button data-target="#filter-modal" href="{% url 'targetadmin:filter-add' client.pk %}" id="create-filter-btn" role="button" class="btn btn-mini" data-toggle="modal">Create Filter</button></h3>
            <div class="span12 well sortable target-well" id="existing-filters" style="margin-left: 0px; min-height:54px;">
                {% for ff in filter_features %}
                    <div data-filter-id="set_number={{ ff.feature }}.{{ ff.operator }}.{{ ff.value }}" class="span2 draggable">
                        <p>
                            <abbr title="{{ ff.feature }} {{ ff.operator }} {{ ff.value }}">
                                {{ ff.feature }} {{ ff.operator }} {{ ff.value|truncatechars:"25" }}
                            </abbr>
                        </p>
                    </div>
                {% endfor %}
            </div>
        </div>
        <div class="row empty-fallback">
            {{ campaign_form.include_empty_fallback.errors }}
            <label for="{{ campaign_form.include_empty_fallback.id_for_label }}">{{ campaign_form.include_empty_fallback.label }}:</label>
            {{ campaign_form.include_empty_fallback }}
            {% if campaign_form.include_empty_fallback.help_text %}
                <i class="icon-question-sign" data-placement="right" data-content="{{ campaign_form.include_empty_fallback.help_text }}"></i>
            {% endif %}
        </div>
        <div class="row filter-button-container">
            <a href="#" id="step2-next" class="btn btn-large btn-primary step-submit filter-step" data-step="fbobjects">Next</a>
            <a href="#" id="step2-prev" class="btn btn-large btn-danger step-submit filter-step" data-step="campaign-settings">Previous</a>
        </div>
    </div>
</div>
<div id="filter-modal" class="modal hide fade" tabindex="-1" role="dialog">
    <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Ã—</button>
        <h3 id="filter-modal-label">Create Filter</h3>
    </div>
    <div class="modal-body">
    </div>
    <div class="modal-footer">
        <button class="btn" data-dismiss="modal" aria-hidden="true">Close</button>
        <button id="filter-add" class="btn btn-primary">Save changes</button>
    </div>
</div>
